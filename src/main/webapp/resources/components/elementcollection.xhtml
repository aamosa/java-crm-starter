<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:f="http://xmlns.jcp.org/jsf/core"
              xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:syn="http://syn.customer.com/jsf"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:cc="http://xmlns.jcp.org/jsf/composite">

    <cc:interface componentType="elementcollection">
        <cc:attribute name="value" type="java.util.HashSet"/>
        <cc:attribute name="referencedType"/>
        <cc:attribute name="collectionType"/>
    </cc:interface>

    <cc:implementation>
        <div id="#{cc.clientId}" class="row" style="border:solid 1px #0000ff;">
            <c:set var="backingBean" value="#{cc.attrs.backingBean}"/>

            <c:forEach items="#{backingBean.metaMapping[cc.childClass]}"
                       var="v">
                <syn:input value="#{backingBean.contact.address[v.value]}"
                           label="#{v.label}"
                           type="#{v.type}"/>
            </c:forEach>

            <h:commandButton value="Add" id="adBtn"/>
        </div>
    </cc:implementation>

</ui:component>

