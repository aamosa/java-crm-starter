<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:syn="http://syn.customer.com/jsf"
    xmlns:p="http://primefaces.org/ui">

   <h:panelGroup layout="block" id="gform" styleClass="afrm">

      <h:form id="cform">

         <c:forEach items="#{backingBean.formFields}" var="field" varStatus="loop">
            <syn:input value="#{backingBean[entityName][field.key]}" label="#{field.value}" />
         </c:forEach>

         <c:if test="#{entityName eq 'user'}">
            <p:selectManyCheckbox id="roles" layout="pageDirection"
               value="#{backingBean.userRoles}" required="true">
               <f:selectItems value="#{backingBean.availRoles}" />
            </p:selectManyCheckbox>
         </c:if>

         <c:if test="#{entityName eq 'task'}">
            <syn:input value="#{backingBean.contactId}" label="Contact Id" />
            <syn:input value="#{backingBean.createdUserId}" label="Create User Id" />
            <syn:input value="#{backingBean.assignedUserId}" label="Assigned User Id" />
         </c:if>

         <h:panelGroup id="btnPanel" layout="block" styleClass="row">
            <h:commandButton id="sve" value="Create" action="#{backingBean.save}"
               styleClass="tab" />
            <h:button id="rst" value="Reset" styleClass="tab" />
         </h:panelGroup>
      </h:form>

   </h:panelGroup>
</ui:composition>